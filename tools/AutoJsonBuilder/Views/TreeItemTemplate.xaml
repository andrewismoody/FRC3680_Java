<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

  <!-- provide converter for visibility bindings -->
  <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />

  <!-- Your tree item template (minimal example). Replace inner layout with your existing template as needed. -->
  <DataTemplate x:Key="TreeItemTemplate">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition />
        <ColumnDefinition Width="Auto" />
      </Grid.ColumnDefinitions>

      <!-- caption area (use your existing caption/TextBox bindings here) -->
      <TextBlock Text="{Binding Caption}" VerticalAlignment="Center" />

      <!-- delete button hidden when IsDeletable == false -->
      <Button x:Name="DeleteButton"
              Grid.Column="1"
              Command="{Binding DeleteCommand}"
              ToolTip="Delete"
              Visibility="{Binding IsDeletable, Converter={StaticResource BooleanToVisibilityConverter}}"
              Style="{StaticResource SmallIconButtonStyle}">
        <!-- keep your icon/content -->
      </Button>
    </Grid>
  </DataTemplate>

</ResourceDictionary>
